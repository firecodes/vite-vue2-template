import{n as r}from"./index-5f54572c.js";import{m as l}from"./TableClass-7a38df47.js";const o={props:{medias:{type:[Array],default:void 0}},data(){return{}},computed:{},created(){},methods:{openMediaGallery(s){if(s%2!==0)return!1;this.$refs[`image_${s}`][0].$el.click()}}};var d=function(){var t=this,e=t._self._c;return e("div",{staticClass:"instagram-grid"},[e("ul",{staticClass:"medias"},t._l(t.medias,function(i,a){return e("li",{key:a,staticClass:"item",on:{click:function(n){return t.openMediaGallery(a)}}},[e("div",{staticClass:"content"},[e("div",{directives:[{name:"lozad",rawName:"v-lozad"}],staticClass:"background",attrs:{"data-background-image":i.maxSrc}}),a%2===0?e("div",{staticClass:"mask"},[e("span",{staticClass:"icon"},[t._v(t._s(a))])]):t._e(),e("div",{staticClass:"type-icon"},[e("span",{staticClass:"icon"},[t._v(t._s(a))])]),e("span",{staticClass:"date"},[e("span",{staticClass:"icon"},[t._v(t._s(a))])])])])}),0)])},c=[],_=r(o,d,c,!1,null,"7e8de08f",null,null);const f=_.exports;const g={components:{gridCardSrcollList:f},data(){return{grid:{data:[],fetching:!1,loading:!1,finished:!1,fetch:this.fetch}}},computed:{},created(){this.TableClass=l,this.grid.fetch()},methods:{fetch(s){console.log("methods:",s),s?this.grid.loading=!0:this.grid.fetching=!0,this.TableClass.getQueryData(20).then(t=>{s?this.grid.loading=!1:this.grid.fetching=!1,this.grid.data=this.grid.data.concat(t),this.grid.data.length>=10*100&&(this.grid.finished=!0)})}}};var m=function(){var i,a;var t=this,e=t._self._c;return e("div",{staticClass:"image-page"},[e("div",{staticClass:"page-content"},[e("placeholder",{attrs:{data:(i=t.grid)==null?void 0:i.data,loading:t.grid.fetching}},[e("template",{slot:"placeholder"},[e("h2",[t._v("empty")])]),e("template",{slot:"loading"},[e("h2",[t._v("loading")])]),e("template",{slot:"default"},[e("gridCardSrcollList",{attrs:{medias:(a=t.grid)==null?void 0:a.data}}),!t.grid.fetching&&!t.grid.finished?e("loadmore",{ref:"loadmoreGrid",staticClass:"loadmore",attrs:{loading:t.grid.loading},on:{loadmore:function(n){return t.grid.fetch("load")}},scopedSlots:t._u([{key:"normal",fn:function(){return[e("button",{staticClass:"normal",on:{click:function(n){return t.grid.fetch("load")}}},[e("i",{staticClass:"iconfont icon-loadmore"}),e("span",[t._v("加载更多")])])]},proxy:!0},{key:"loading",fn:function(){return[e("h2",{staticClass:"loading",attrs:{width:"2.4rem",height:"1.4rem",gap:"1rem"}},[t._v("loading")])]},proxy:!0}],null,!1,794526874)}):t._e()],1)],2)],1)])},u=[],h=r(g,m,u,!1,null,"8e210ed3",null,null);const C=h.exports;export{C as default};
